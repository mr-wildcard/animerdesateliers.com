---
import Grid from "components/@commons/Grid.astro"
import Feedback from "./Feedback.astro"
import data from "./data.json"
---

<style>
  .feedbacks {
    @apply gap-x-4 md:gap-x-12 lg:grid lg:gap-x-[24px] lg:grid-cols-12 lg:gap-y-20 xl:gap-y-28;

    scroll-snap-type: x mandatory;
  }

  .feedback-wrapper {
    @apply max-w-[80vw] md:max-w-[60vw] lg:max-w-none lg:col-start-2 lg:col-span-5 xl:col-start-1 xl:ml-[33px];

    flex: 0 0 auto;
    scroll-snap-align: center;
  }

  .feedback-wrapper:nth-child(2n) {
    @apply lg:col-start-7;
  }
</style>

<Grid>
  <div class="col-span-full px-[20px] md:col-start-2 md:col-span-6 lg:col-span-full">
    <h2 class="mb-5 font-serif text-2xl leading-[42px] md:text-center lg:mb-10 xl:text-4xl xl:leading[48px]">
      Une expertise éprouvée
    </h2>
  </div>

  <h3 class="col-span-full px-[20px] md:col-start-2 md:col-span-6 md:text-center xl:col-start-4 xl:col-span-6 xl:text-[22px] xl:leading-[32px] xl:font-bold">
    Nous rendons les équipes plus autonomes, plus transparentes, plus ouvertes et plus créatives.
  </h3>
</Grid>

<ul class="feedbacks px-[20px] flex mt-16 pb-6 overflow-x-auto overscroll-x-contain xl:px-0">
  {data.feedbacks.map((feedback) => (
    <li class="feedback-wrapper">
      <Feedback
        text={feedback.text}
        author={feedback.author}
      />
    </li>
  ))}
</ul>
