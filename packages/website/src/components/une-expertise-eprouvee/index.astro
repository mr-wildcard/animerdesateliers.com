---
import Grid from "components/@commons/Grid.astro"
import Feedback from "./Feedback.astro"
import data from "./data.json"
---

<style>
  .feedbacks {
    @apply gap-x-4 xl:grid xl:gap-x-[24px] xl:grid-cols-12 xl:gap-y-28;

    scroll-snap-type: x mandatory;
  }

  .feedback-wrapper {
    @apply xl:col-span-5 xl:ml-[34px];

    flex: 0 0 auto;
    scroll-snap-align: center;
    max-width: 80vw;
  }

  .feedback-wrapper:nth-child(2n) {
    @apply xl:col-start-7;
  }
</style>

<Grid outerGap={false}>
  <div class="col-span-full px-[20px] xl:px-0">
    <h2 class="mb-5 font-serif text-2xl leading-[42px] xl:text-center xl:mb-10 xl:text-4xl xl:leading[48px]">
      Une expertise éprouvée
    </h2>
  </div>

  <p class="col-span-full px-[20px] xl:px-0 xl:col-start-4 xl:col-span-6 xl:text-[22px] xl:leading-[32px] xl:text-center xl:font-bold">
    Nous rendons les équipes plus autonomes, plus transparentes, plus ouvertes et plus créatives.
  </p>

  <ul class="feedbacks col-span-full flex px-[20px] mt-16 pb-6 overflow-x-auto overscroll-x-contain">
    {data.feedbacks.map((feedback) => (
      <li class="feedback-wrapper">
        <Feedback
          text={feedback.text}
          author={feedback.author}
        />
      </li>
    ))}
  </ul>
</Grid>
