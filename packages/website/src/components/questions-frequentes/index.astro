---
import IconChevronForward from "components/@commons/icons/IconChevronForward.astro";

import data from "./data.json";
---

<style>
  .list details {
    border-bottom: 2px solid var(--color-white);
  }

  .list details[open] {
    transition: background-color 100ms ease-out;
  }

  .list details[open] {
    border-color: var(--color-downriver);
  }

  .list details :global(svg) {
    transform: rotate(90deg);
    transform-origin: center center;
    transition: transform 200ms ease;
  }

  .list details[open] {
    background-color: var(--color-chiffon);
    color: var(--color-downriver);
  }

  .list details[open] :global(svg) {
    transform: rotate(-90deg);
  }

  .summary::marker,
  .summary::-webkit-details-marker {
    display: none;
    content: "";
  }

  .answer {
    padding-left: calc(--spacing(5) + 18px);
  }

  @screen xl {
    .list details:hover {
      border-color: var(--color-downriver);
    }

    .summary:hover {
      border-color: var(--color-downriver);
      background-color: var(--color-chiffon);
    }

    .answer {
      padding-left: calc(--spacing(5) * 2 + 18px);
      padding-right: 31px;
      padding-bottom: 60px;
    }
  }
</style>

<div class="pb-14 text-white">
  <h2 class="mb-6 md:mb-14 font-serif leading-[42px] text-2xl">Questions fr√©quentes</h2>

  <ul class="list">
    {
      data.map(({ question, answer }, index) => (
        <li>
          <details class="p-5 xl:p-0">
            <summary class="summary xl:px-5 xl:py-6 cursor-pointer">
              <div class="flex items-center">
                <span class="mr-5">
                  <IconChevronForward size={18} />
                </span>
                <p class="font-bold xl:text-[22px]">{question}</p>
              </div>
            </summary>
            <div class="answer py-6 pr-5 break-words">{answer}</div>
          </details>
        </li>
      ))
    }
  </ul>
</div>
