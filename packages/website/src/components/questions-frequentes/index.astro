---
import IconChevronForward from "components/@commons/icons/IconChevronForward.astro"

import data from "./data.json"
---

<style>
  .list details {
    @apply border-b-2 border-white;
  }

  .list details[open] {
    transition: background-color 100ms ease-out;
  }

  .list details[open] {
    @apply border-downriver;
  }

  .list details :global(svg) {
    transform: rotate(90deg);
    transform-origin: center center;
    transition: transform 200ms ease;
  }

  .list details[open] {
    @apply bg-chiffon text-downriver;
  }

  .list details[open] :global(svg) {
    transform: rotate(-90deg);
  }

  .summary::marker {
    display: none;
    content: "";
  }

  .answer {
    padding-left: calc(theme('space.5') + 18px);
  }

  @screen xl {
    .list details:hover {
      @apply border-downriver;
    }

    .summary:hover {
      @apply bg-chiffon text-downriver;
    }

    .answer {
      padding-left: calc(theme('space.5') * 2 + 18px);
      padding-right: 31px;
      padding-bottom: 60px;
    }
  }
</style>

<div class="py-14 text-white">
  <h2 class="mb-14 font-serif leading-[42px] text-2xl">
    Questions fr√©quentes
  </h2>

  <ul class="list">
    {data.map(({ question, answer }, index) => (
      <li>
        <details class="p-5 xl:p-0">
          <summary class="summary xl:px-5 xl:py-6 cursor-pointer">
            <div class="flex items-center">
              <span class="mr-5">
                <IconChevronForward size={18} />
              </span>
              <p class="font-bold xl:text-[22px]">{question}</p>
            </div>
          </summary>
          <div class="answer py-6 pr-5 break-words">
            {answer}
          </div>
        </details>
      </li>
    ))}
  </div>
</div>

